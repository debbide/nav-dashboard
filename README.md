# å¯¼èˆªä»ªè¡¨ç›˜ NavDashboard

ä¸€ä¸ªåŸºäºå¡ç‰‡å¼å¸ƒå±€çš„ç°ä»£åŒ–å¯¼èˆªç«™ç‚¹ï¼Œé‡‡ç”¨ç£¨ç ‚ç»ç’ƒï¼ˆGlassmorphismï¼‰è®¾è®¡é£æ ¼ã€‚æ”¯æŒ Cloudflare å’Œ Docker ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼Œè¿˜æœ‰æµè§ˆå™¨æ’ä»¶å¿«é€Ÿæ·»åŠ æ”¶è—ã€‚

**ğŸ”— åœ¨çº¿æ¼”ç¤º**ï¼šhttps://nav.cscs.qzz.io



## âœ¨ ç‰¹æ€§

### ğŸ¨ ç•Œé¢è®¾è®¡
- **ç£¨ç ‚ç»ç’ƒæ•ˆæœ** - ç°ä»£åŒ–çš„ Glassmorphism è®¾è®¡é£æ ¼
- **æš–è‰²è°ƒé…è‰²** - æ¸©æš–èˆ’é€‚çš„è§†è§‰ä½“éªŒ
- **ğŸ“± å“åº”å¼å¸ƒå±€** - å®Œç¾é€‚é…å„ç§è®¾å¤‡
- **éª¨æ¶å±åŠ è½½** - ä¼˜é›…çš„åŠ è½½ä½“éªŒ

### ğŸ” æœç´¢åŠŸèƒ½
- **å¤šå¼•æ“æœç´¢** - æ”¯æŒ Googleã€Bingã€GitHub ä¸€é”®åˆ‡æ¢
- **å®æ—¶æœç´¢** - å¿«é€Ÿç­›é€‰ç«™ç‚¹
- **æ™ºèƒ½å»ºè®®** - æœç´¢è‡ªåŠ¨è¡¥å…¨

### âš™ï¸ ç®¡ç†åŠŸèƒ½
- **ç«™ç‚¹ç®¡ç†** - å®Œæ•´çš„ CRUD åŠŸèƒ½
- **åˆ†ç±»ç®¡ç†** - å¤šçº§åˆ†ç±»ç»„ç»‡å¯¼èˆª
- **æ‹–æ‹½æ’åº** - ç›´è§‚çš„æ’åºæ“ä½œ
- **ğŸ–¼ï¸ çµæ´»å›¾æ ‡** - æ”¯æŒè¿œç¨‹ URL å’Œæœ¬åœ°ä¸Šä¼ 
- **ğŸ”— Logo API** - å¤šæºè‡ªåŠ¨è·å–

### ğŸ”’ å®‰å…¨ç‰¹æ€§
- **å¯†ç å“ˆå¸Œ** - SHA-256 åŠ å¯†å­˜å‚¨
- **API é™æµ** - é˜²æš´åŠ›ç ´è§£
- **Session ç®¡ç†** - å®‰å…¨çš„ä¼šè¯æ§åˆ¶

### ğŸ§© æµè§ˆå™¨æ’ä»¶
- **å³é”®èœå•** - ä»»æ„ç½‘é¡µå³é”®æ·»åŠ åˆ°å¯¼èˆªç«™
- **è‡ªåŠ¨è·å–** - è‡ªåŠ¨å¡«å……æ ‡é¢˜ã€URLã€å›¾æ ‡
- **åˆ†ç±»é€‰æ‹©** - æ”¯æŒé€‰æ‹©å·²æœ‰åˆ†ç±»
- **åŒç‰ˆæœ¬å…¼å®¹** - åŒæ—¶æ”¯æŒ CF ç‰ˆå’Œ Docker ç‰ˆ

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### â˜ï¸ æ–¹å¼ä¸€ï¼šCloudflare éƒ¨ç½²ï¼ˆæ¨èï¼‰

å…è´¹éƒ¨ç½²åˆ° Cloudflare Pagesï¼Œå…¨çƒ CDN åŠ é€Ÿã€‚

#### ç¬¬ 1 æ­¥ï¼šFork ä»“åº“

ç‚¹å‡»å³ä¸Šè§’ Fork æŒ‰é’®ï¼Œå°†ä»“åº“å¤åˆ¶åˆ°ä½ çš„ GitHub è´¦å·ã€‚

#### ç¬¬ 2 æ­¥ï¼šåˆ›å»º Cloudflare èµ„æº

ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com)ï¼š

1. **åˆ›å»º D1 æ•°æ®åº“**
   - è¿›å…¥ Workers & Pages â†’ D1
   - ç‚¹å‡» Create database
   - åç§°å¡« `nav-dashboard-db`
   - è®°å½• Database ID

2. **åˆ›å»º KV å‘½åç©ºé—´**
   - è¿›å…¥ Workers & Pages â†’ KV
   - ç‚¹å‡» Create a namespace
   - åç§°å¡« `nav-dashboard-kv`
   - è®°å½• Namespace ID

#### ç¬¬ 3 æ­¥ï¼šè·å– API Token

1. è®¿é—® [API Tokens](https://dash.cloudflare.com/profile/api-tokens)
2. ç‚¹å‡» Create Token
3. é€‰æ‹© **Edit Cloudflare Workers** æ¨¡æ¿
4. åˆ›å»ºå¹¶å¤åˆ¶ Token

#### ç¬¬ 4 æ­¥ï¼šé…ç½® GitHub Secrets

è¿›å…¥ä½  Fork çš„ä»“åº“ â†’ Settings â†’ Secrets and variables â†’ Actions

æ·»åŠ ä»¥ä¸‹ 4 ä¸ª Secretsï¼š

| Secret åç§° | è¯´æ˜ |
|------------|------|
| `CLOUDFLARE_API_TOKEN` | åˆšæ‰åˆ›å»ºçš„ API Token |
| `CLOUDFLARE_ACCOUNT_ID` | Dashboard å³ä¾§çš„ Account ID |
| `D1_DATABASE_ID` | åˆ›å»ºçš„æ•°æ®åº“ ID |
| `KV_NAMESPACE_ID` | åˆ›å»ºçš„ KV å‘½åç©ºé—´ ID |

#### ç¬¬ 5 æ­¥ï¼šè¿è¡Œéƒ¨ç½²

1. è¿›å…¥ Actions é¡µé¢
2. è¿è¡Œ **Initialize Database**ï¼ˆé¦–æ¬¡ï¼‰
3. è¿è¡Œ **Deploy to Cloudflare**

#### ç¬¬ 6 æ­¥ï¼šé…ç½® Pages ç»‘å®š

> âš ï¸ é¦–æ¬¡éƒ¨ç½²åéœ€è¦æ‰‹åŠ¨é…ç½®ä¸€æ¬¡

1. è¿›å…¥ Cloudflare Dashboard â†’ Pages â†’ nav-dashboard
2. Settings â†’ Functions
3. æ·»åŠ  D1 ç»‘å®šï¼šVariable name = `DB`ï¼Œé€‰æ‹©å¯¹åº”æ•°æ®åº“
4. æ·»åŠ  KV ç»‘å®šï¼šVariable name = `KV`ï¼Œé€‰æ‹©å¯¹åº”å‘½åç©ºé—´

**ğŸ‰ å®Œæˆï¼** è®¿é—® `https://nav-dashboard.pages.dev`

---

### ğŸ³ æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

é€‚åˆæœ‰è‡ªå·±æœåŠ¡å™¨çš„ç”¨æˆ·ï¼Œæ•°æ®æœ¬åœ°å­˜å‚¨ã€‚

#### docker-compose.yml

```yaml
services:
  nav-dashboard:
    image: ghcr.io/debbide/simple-nav-dashboard:latest
    container_name: nav-dashboard
    restart: unless-stopped
    ports:
      - "3000:3000"
    volumes:
      - ./data:/app/data
      - ./uploads:/app/uploads
    environment:
      - ADMIN_PASSWORD=admin123
      - TZ=Asia/Shanghai
```

#### éƒ¨ç½²æ­¥éª¤

```bash
# åˆ›å»ºç›®å½•
mkdir nav-dashboard && cd nav-dashboard

# åˆ›å»º docker-compose.ymlï¼ˆå†…å®¹å¦‚ä¸Šï¼‰

# å¯åŠ¨
docker-compose up -d

# è®¿é—®
# ä¸»é¡µï¼šhttp://ä½ çš„IP:3000
# åå°ï¼šhttp://ä½ çš„IP:3000/admin.html
```

#### æ›´æ–°å‡çº§

```bash
docker-compose pull
docker-compose up -d
```

---

## ğŸ§© æµè§ˆå™¨æ’ä»¶

æ”¯æŒåœ¨ä»»æ„ç½‘é¡µå³é”®å¿«é€Ÿæ·»åŠ åˆ°å¯¼èˆªä»ªè¡¨ç›˜ã€‚

### å®‰è£…æ­¥éª¤

1. ä¸‹è½½ä»“åº“ä¸­çš„ `chrome-extension` æ–‡ä»¶å¤¹
2. æ‰“å¼€ Chrome è®¿é—® `chrome://extensions/`
3. å¼€å¯å³ä¸Šè§’ã€Œå¼€å‘è€…æ¨¡å¼ã€
4. ç‚¹å‡»ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºã€
5. é€‰æ‹© `chrome-extension` æ–‡ä»¶å¤¹

### é…ç½®æ’ä»¶

1. ç‚¹å‡»å·¥å…·æ çš„æ’ä»¶å›¾æ ‡
2. ç‚¹å‡» âš™ï¸ è®¾ç½®æŒ‰é’®
3. è¾“å…¥ä½ çš„å¯¼èˆªç«™åœ°å€ï¼š
   - CF ç‰ˆï¼š`https://nav-dashboard.pages.dev`
   - Docker ç‰ˆï¼š`http://ä½ çš„IP:3000`
4. å¦‚æœè®¾ç½®äº†å¯†ç ï¼Œå¡«å…¥å¯†ç 
5. ä¿å­˜å¹¶æµ‹è¯•è¿æ¥

### ä½¿ç”¨æ–¹æ³•

**å³é”®èœå•**
- åœ¨ä»»æ„ç½‘é¡µç©ºç™½å¤„å³é”®
- ç‚¹å‡»ã€Œæ·»åŠ åˆ°å¯¼èˆªä»ªè¡¨ç›˜ã€
- ç¡®è®¤ä¿¡æ¯åç‚¹å‡»æ·»åŠ 

**ç‚¹å‡»å›¾æ ‡**
- ç›´æ¥ç‚¹å‡»å·¥å…·æ æ’ä»¶å›¾æ ‡
- è‡ªåŠ¨å¡«å……å½“å‰é¡µé¢ä¿¡æ¯
- é€‰æ‹©åˆ†ç±»åæ·»åŠ 

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
nav-dashboard/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.js           # Workers API
â”œâ”€â”€ public/                # å‰ç«¯é™æ€æ–‡ä»¶
â”œâ”€â”€ docker/                # Docker ç‰ˆæœ¬
â”œâ”€â”€ chrome-extension/      # æµè§ˆå™¨æ’ä»¶
â”œâ”€â”€ .github/workflows/     # GitHub Actions
â”œâ”€â”€ schema.sql             # æ•°æ®åº“æ¶æ„
â””â”€â”€ wrangler.toml          # Cloudflare é…ç½®
```

---

## ğŸ“‹ API æ¥å£

### ç«™ç‚¹æ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/sites` | è·å–æ‰€æœ‰ç«™ç‚¹ |
| `POST` | `/api/sites` | åˆ›å»ºç«™ç‚¹ |
| `PUT` | `/api/sites/:id` | æ›´æ–°ç«™ç‚¹ |
| `DELETE` | `/api/sites/:id` | åˆ é™¤ç«™ç‚¹ |

### åˆ†ç±»æ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/categories` | è·å–æ‰€æœ‰åˆ†ç±» |
| `POST` | `/api/categories` | åˆ›å»ºåˆ†ç±» |
| `PUT` | `/api/categories/:id` | æ›´æ–°åˆ†ç±» |
| `DELETE` | `/api/categories/:id` | åˆ é™¤åˆ†ç±» |

### å…¶ä»–æ¥å£
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `POST` | `/api/upload` | ä¸Šä¼ å›¾ç‰‡ |
| `POST` | `/api/auth/verify` | éªŒè¯å¯†ç  |
| `GET` | `/api/export` | å¯¼å‡ºæ•°æ® |
| `POST` | `/api/import` | å¯¼å…¥æ•°æ® |

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# æœ¬åœ°å¼€å‘ï¼ˆCF ç‰ˆï¼‰
npm run dev

# Docker ç‰ˆå¼€å‘
cd docker
npm run dev
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### CF ç‰ˆéƒ¨ç½²å¤±è´¥ï¼Ÿ
1. æ£€æŸ¥ 4 ä¸ª Secrets æ˜¯å¦æ­£ç¡®é…ç½®
2. éªŒè¯ API Token æƒé™
3. æŸ¥çœ‹ Actions æ—¥å¿—

### CF ç‰ˆ Pages æ˜¾ç¤ºé”™è¯¯ï¼Ÿ
ç¡®è®¤å·²é…ç½® D1 å’Œ KV ç»‘å®šï¼ˆç¬¬ 6 æ­¥ï¼‰

### Docker ç‰ˆæ— æ³•è®¿é—®ï¼Ÿ
æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å¼€æ”¾ç«¯å£

### æ’ä»¶æç¤ºç½‘ç»œé”™è¯¯ï¼Ÿ
æ£€æŸ¥ API åœ°å€æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤å¯¼èˆªç«™æ­£åœ¨è¿è¡Œ

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**â­ å¦‚æœè§‰å¾—ä¸é”™ï¼Œæ¬¢è¿ Star æ”¯æŒï¼**
